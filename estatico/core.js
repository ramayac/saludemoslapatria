$(document).ready(function() {
    init();
});

var mismarcas = {"marcas": [
{ "lon": -2.5667357, "lat": 0.0 },
{ "lon": -2.5667357, "lat": 0.15707964 },
{ "lon": -2.4230218, "lat": -0.15707964 },
{ "lon": -2.4230218, "lat": 0.0 },
{ "lon": -2.4230218, "lat": 0.15707964 },
{ "lon": -2.2793074, "lat": -0.31415927 },
{ "lon": -2.2793074, "lat": -0.15707964 },
{ "lon": -2.2793074, "lat": 0.0 },
{ "lon": -2.2793074, "lat": 0.15707964 },
{ "lon": -2.1355932, "lat": -0.47123888 },
{ "lon": -2.1355932, "lat": -0.31415927 },
{ "lon": -2.1355932, "lat": -0.15707964 },
{ "lon": -2.1355932, "lat": 0.0 },
{ "lon": -2.1355932, "lat": 0.15707964 },
{ "lon": -2.1355932, "lat": 0.31415927 },
{ "lon": -1.991879, "lat": -0.62831855 },
{ "lon": -1.991879, "lat": -0.47123888 },
{ "lon": -1.991879, "lat": -0.31415927 },
{ "lon": -1.991879, "lat": -0.15707964 },
{ "lon": -1.991879, "lat": 0.0 },
{ "lon": -1.991879, "lat": 0.15707964 },
{ "lon": -1.991879, "lat": 0.31415927 },
{ "lon": -1.991879, "lat": 0.47123888 },
{ "lon": -1.8481648, "lat": -0.47123888 },
{ "lon": -1.8481648, "lat": -0.31415927 },
{ "lon": -1.8481648, "lat": -0.15707964 },
{ "lon": -1.8481648, "lat": 0.0 },
{ "lon": -1.8481648, "lat": 0.15707964 },
{ "lon": -1.8481648, "lat": 0.31415927 },
{ "lon": -1.8481648, "lat": 0.47123888 },
{ "lon": -1.8481648, "lat": 0.62831855 },
{ "lon": -1.7044505, "lat": -0.7853982 },
{ "lon": -1.7044505, "lat": -0.62831855 },
{ "lon": -1.7044505, "lat": -0.47123888 },
{ "lon": -1.7044505, "lat": -0.31415927 },
{ "lon": -1.7044505, "lat": -0.15707964 },
{ "lon": -1.7044505, "lat": 0.0 },
{ "lon": -1.7044505, "lat": 0.15707964 },
{ "lon": -1.7044505, "lat": 0.31415927 },
{ "lon": -1.7044505, "lat": 0.47123888 },
{ "lon": -1.7044505, "lat": 0.62831855 },
{ "lon": -1.5607363, "lat": -0.94247776 },
{ "lon": -1.5607363, "lat": -0.7853982 },
{ "lon": -1.5607363, "lat": -0.62831855 },
{ "lon": -1.5607363, "lat": -0.47123888 },
{ "lon": -1.5607363, "lat": -0.31415927 },
{ "lon": -1.5607363, "lat": -0.15707964 },
{ "lon": -1.5607363, "lat": 0.0 },
{ "lon": -1.5607363, "lat": 0.15707964 },
{ "lon": -1.5607363, "lat": 0.31415927 },
{ "lon": -1.5607363, "lat": 0.47123888 },
{ "lon": -1.5607363, "lat": 0.62831855 },
{ "lon": -1.4170221, "lat": -1.4137167 },
{ "lon": -1.4170221, "lat": -1.2566371 },
{ "lon": -1.4170221, "lat": -0.94247776 },
{ "lon": -1.4170221, "lat": -0.7853982 },
{ "lon": -1.4170221, "lat": -0.62831855 },
{ "lon": -1.4170221, "lat": -0.47123888 },
{ "lon": -1.4170221, "lat": -0.31415927 },
{ "lon": -1.4170221, "lat": -0.15707964 },
{ "lon": -1.4170221, "lat": 0.0 },
{ "lon": -1.4170221, "lat": 0.15707964 },
{ "lon": -1.4170221, "lat": 0.31415927 },
{ "lon": -1.4170221, "lat": 0.47123888 },
{ "lon": -1.4170221, "lat": 0.62831855 },
{ "lon": -1.2733079, "lat": -1.4137167 },
{ "lon": -1.2733079, "lat": -1.2566371 },
{ "lon": -1.2733079, "lat": -1.0995574 },
{ "lon": -1.2733079, "lat": -0.94247776 },
{ "lon": -1.2733079, "lat": -0.7853982 },
{ "lon": -1.2733079, "lat": -0.62831855 },
{ "lon": -1.2733079, "lat": -0.47123888 },
{ "lon": -1.2733079, "lat": -0.31415927 },
{ "lon": -1.2733079, "lat": -0.15707964 },
{ "lon": -1.2733079, "lat": 0.0 },
{ "lon": -1.2733079, "lat": 0.15707964 },
{ "lon": -1.2733079, "lat": 0.31415927 },
{ "lon": -1.2733079, "lat": 0.47123888 },
{ "lon": -1.2733079, "lat": 0.62831855 },
{ "lon": -1.1295937, "lat": -1.4137167 },
{ "lon": -1.1295937, "lat": -1.2566371 },
{ "lon": -1.1295937, "lat": -1.0995574 },
{ "lon": -1.1295937, "lat": -0.94247776 },
{ "lon": -1.1295937, "lat": -0.7853982 },
{ "lon": -1.1295937, "lat": -0.62831855 },
{ "lon": -1.1295937, "lat": -0.47123888 },
{ "lon": -1.1295937, "lat": -0.31415927 },
{ "lon": -1.1295937, "lat": -0.15707964 },
{ "lon": -1.1295937, "lat": 0.0 },
{ "lon": -1.1295937, "lat": 0.15707964 },
{ "lon": -1.1295937, "lat": 0.31415927 },
{ "lon": -1.1295937, "lat": 0.47123888 },
{ "lon": -1.1295937, "lat": 0.62831855 },
{ "lon": -0.9858795, "lat": -1.4137167 },
{ "lon": -0.9858795, "lat": -1.2566371 },
{ "lon": -0.9858795, "lat": -1.0995574 },
{ "lon": -0.9858795, "lat": -0.94247776 },
{ "lon": -0.9858795, "lat": -0.7853982 },
{ "lon": -0.9858795, "lat": -0.62831855 },
{ "lon": -0.9858795, "lat": -0.47123888 },
{ "lon": -0.9858795, "lat": -0.31415927 },
{ "lon": -0.9858795, "lat": -0.15707964 },
{ "lon": -0.9858795, "lat": 0.0 },
{ "lon": -0.9858795, "lat": 0.15707964 },
{ "lon": -0.9858795, "lat": 0.31415927 },
{ "lon": -0.9858795, "lat": 0.47123888 },
{ "lon": -0.9858795, "lat": 0.62831855 },
{ "lon": -0.8421653, "lat": -1.4137167 },
{ "lon": -0.8421653, "lat": -1.2566371 },
{ "lon": -0.8421653, "lat": -1.0995574 },
{ "lon": -0.8421653, "lat": -0.94247776 },
{ "lon": -0.8421653, "lat": -0.7853982 },
{ "lon": -0.8421653, "lat": -0.62831855 },
{ "lon": -0.8421653, "lat": -0.47123888 },
{ "lon": -0.8421653, "lat": -0.31415927 },
{ "lon": -0.8421653, "lat": -0.15707964 },
{ "lon": -0.8421653, "lat": 0.0 },
{ "lon": -0.8421653, "lat": 0.15707964 },
{ "lon": -0.8421653, "lat": 0.31415927 },
{ "lon": -0.8421653, "lat": 0.47123888 },
{ "lon": -0.8421653, "lat": 0.62831855 },
{ "lon": -0.698451, "lat": -1.4137167 },
{ "lon": -0.698451, "lat": -1.2566371 },
{ "lon": -0.698451, "lat": -1.0995574 },
{ "lon": -0.698451, "lat": -0.94247776 },
{ "lon": -0.698451, "lat": -0.7853982 },
{ "lon": -0.698451, "lat": -0.62831855 },
{ "lon": -0.698451, "lat": -0.47123888 },
{ "lon": -0.698451, "lat": -0.31415927 },
{ "lon": -0.698451, "lat": -0.15707964 },
{ "lon": -0.698451, "lat": 0.0 },
{ "lon": -0.698451, "lat": 0.15707964 },
{ "lon": -0.698451, "lat": 0.31415927 },
{ "lon": -0.698451, "lat": 0.47123888 },
{ "lon": -0.698451, "lat": 0.62831855 },
{ "lon": -0.698451, "lat": 0.7853982 },
{ "lon": -0.554737, "lat": -1.2566371 },
{ "lon": -0.554737, "lat": -1.0995574 },
{ "lon": -0.554737, "lat": -0.94247776 },
{ "lon": -0.554737, "lat": -0.7853982 },
{ "lon": -0.554737, "lat": -0.62831855 },
{ "lon": -0.554737, "lat": -0.47123888 },
{ "lon": -0.554737, "lat": -0.31415927 },
{ "lon": -0.554737, "lat": -0.15707964 },
{ "lon": -0.554737, "lat": 0.0 },
{ "lon": -0.554737, "lat": 0.15707964 },
{ "lon": -0.554737, "lat": 0.31415927 },
{ "lon": -0.554737, "lat": 0.47123888 },
{ "lon": -0.554737, "lat": 0.62831855 },
{ "lon": -0.554737, "lat": 0.7853982 },
{ "lon": -0.4110227, "lat": -1.4137167 },
{ "lon": -0.4110227, "lat": -1.2566371 },
{ "lon": -0.4110227, "lat": -1.0995574 },
{ "lon": -0.4110227, "lat": -0.94247776 },
{ "lon": -0.4110227, "lat": -0.7853982 },
{ "lon": -0.4110227, "lat": -0.62831855 },
{ "lon": -0.4110227, "lat": -0.47123888 },
{ "lon": -0.4110227, "lat": -0.31415927 },
{ "lon": -0.4110227, "lat": -0.15707964 },
{ "lon": -0.4110227, "lat": 0.0 },
{ "lon": -0.4110227, "lat": 0.15707964 },
{ "lon": -0.4110227, "lat": 0.31415927 },
{ "lon": -0.4110227, "lat": 0.47123888 },
{ "lon": -0.4110227, "lat": 0.62831855 },
{ "lon": -0.4110227, "lat": 0.7853982 },
{ "lon": -0.4110227, "lat": 0.94247776 },
{ "lon": -0.2673084, "lat": -1.2566371 },
{ "lon": -0.2673084, "lat": -1.0995574 },
{ "lon": -0.2673084, "lat": -0.94247776 },
{ "lon": -0.2673084, "lat": -0.7853982 },
{ "lon": -0.2673084, "lat": -0.62831855 },
{ "lon": -0.2673084, "lat": -0.47123888 },
{ "lon": -0.2673084, "lat": -0.31415927 },
{ "lon": -0.2673084, "lat": -0.15707964 },
{ "lon": -0.2673084, "lat": 0.0 },
{ "lon": -0.2673084, "lat": 0.15707964 },
{ "lon": -0.2673084, "lat": 0.31415927 },
{ "lon": -0.2673084, "lat": 0.47123888 },
{ "lon": -0.2673084, "lat": 0.62831855 },
{ "lon": -0.2673084, "lat": 0.7853982 },
{ "lon": -0.2673084, "lat": 0.94247776 },
{ "lon": -0.12359411, "lat": -1.0995574 },
{ "lon": -0.12359411, "lat": -0.94247776 },
{ "lon": -0.12359411, "lat": -0.7853982 },
{ "lon": -0.12359411, "lat": -0.62831855 },
{ "lon": -0.12359411, "lat": -0.47123888 },
{ "lon": -0.12359411, "lat": -0.31415927 },
{ "lon": -0.12359411, "lat": -0.15707964 },
{ "lon": -0.12359411, "lat": 0.0 },
{ "lon": -0.12359411, "lat": 0.15707964 },
{ "lon": -0.12359411, "lat": 0.31415927 },
{ "lon": -0.12359411, "lat": 0.47123888 },
{ "lon": -0.12359411, "lat": 0.62831855 },
{ "lon": -0.12359411, "lat": 0.7853982 },
{ "lon": -0.12359411, "lat": 0.94247776 },
{ "lon": -0.12359411, "lat": 1.0995574 },
{ "lon": 0.020119915, "lat": -0.94247776 },
{ "lon": 0.020119915, "lat": -0.7853982 },
{ "lon": 0.020119915, "lat": -0.62831855 },
{ "lon": 0.020119915, "lat": -0.47123888 },
{ "lon": 0.020119915, "lat": -0.31415927 },
{ "lon": 0.020119915, "lat": -0.15707964 },
{ "lon": 0.020119915, "lat": 0.0 },
{ "lon": 0.020119915, "lat": 0.15707964 },
{ "lon": 0.020119915, "lat": 0.31415927 },
{ "lon": 0.020119915, "lat": 0.47123888 },
{ "lon": 0.020119915, "lat": 0.62831855 },
{ "lon": 0.020119915, "lat": 0.7853982 },
{ "lon": 0.020119915, "lat": 0.94247776 },
{ "lon": 0.020119915, "lat": 1.0995574 },
{ "lon": 0.16383421, "lat": -0.7853982 },
{ "lon": 0.16383421, "lat": -0.62831855 },
{ "lon": 0.16383421, "lat": -0.47123888 },
{ "lon": 0.16383421, "lat": -0.31415927 },
{ "lon": 0.16383421, "lat": -0.15707964 },
{ "lon": 0.16383421, "lat": 0.0 },
{ "lon": 0.16383421, "lat": 0.15707964 },
{ "lon": 0.16383421, "lat": 0.31415927 },
{ "lon": 0.16383421, "lat": 0.47123888 },
{ "lon": 0.16383421, "lat": 0.62831855 },
{ "lon": 0.16383421, "lat": 0.7853982 },
{ "lon": 0.16383421, "lat": 0.94247776 },
{ "lon": 0.16383421, "lat": 1.0995574 },
{ "lon": 0.16383421, "lat": 1.2566371 },
{ "lon": 0.3075485, "lat": -0.62831855 },
{ "lon": 0.3075485, "lat": -0.47123888 },
{ "lon": 0.3075485, "lat": -0.31415927 },
{ "lon": 0.3075485, "lat": -0.15707964 },
{ "lon": 0.3075485, "lat": 0.0 },
{ "lon": 0.3075485, "lat": 0.15707964 },
{ "lon": 0.3075485, "lat": 0.31415927 },
{ "lon": 0.3075485, "lat": 0.47123888 },
{ "lon": 0.3075485, "lat": 0.62831855 },
{ "lon": 0.3075485, "lat": 0.7853982 },
{ "lon": 0.3075485, "lat": 0.94247776 },
{ "lon": 0.3075485, "lat": 1.0995574 },
{ "lon": 0.3075485, "lat": 1.2566371 },
{ "lon": 0.45126253, "lat": -0.47123888 },
{ "lon": 0.45126253, "lat": -0.31415927 },
{ "lon": 0.45126253, "lat": -0.15707964 },
{ "lon": 0.45126253, "lat": 0.0 },
{ "lon": 0.45126253, "lat": 0.15707964 },
{ "lon": 0.45126253, "lat": 0.31415927 },
{ "lon": 0.45126253, "lat": 0.47123888 },
{ "lon": 0.45126253, "lat": 0.62831855 },
{ "lon": 0.45126253, "lat": 0.7853982 },
{ "lon": 0.45126253, "lat": 0.94247776 },
{ "lon": 0.45126253, "lat": 1.0995574 },
{ "lon": 0.45126253, "lat": 1.2566371 },
{ "lon": 0.45126253, "lat": 1.4137167 },
{ "lon": 0.59497684, "lat": -0.47123888 },
{ "lon": 0.59497684, "lat": -0.31415927 },
{ "lon": 0.59497684, "lat": -0.15707964 },
{ "lon": 0.59497684, "lat": 0.0 },
{ "lon": 0.59497684, "lat": 0.15707964 },
{ "lon": 0.59497684, "lat": 0.31415927 },
{ "lon": 0.59497684, "lat": 0.47123888 },
{ "lon": 0.59497684, "lat": 0.62831855 },
{ "lon": 0.59497684, "lat": 0.7853982 },
{ "lon": 0.59497684, "lat": 0.94247776 },
{ "lon": 0.59497684, "lat": 1.0995574 },
{ "lon": 0.59497684, "lat": 1.2566371 },
{ "lon": 0.59497684, "lat": 1.4137167 },
{ "lon": 0.7386911, "lat": -0.31415927 },
{ "lon": 0.7386911, "lat": -0.15707964 },
{ "lon": 0.7386911, "lat": 0.0 },
{ "lon": 0.7386911, "lat": 0.15707964 },
{ "lon": 0.7386911, "lat": 0.31415927 },
{ "lon": 0.7386911, "lat": 0.47123888 },
{ "lon": 0.7386911, "lat": 0.62831855 },
{ "lon": 0.7386911, "lat": 0.7853982 },
{ "lon": 0.7386911, "lat": 0.94247776 },
{ "lon": 0.7386911, "lat": 1.0995574 },
{ "lon": 0.7386911, "lat": 1.2566371 },
{ "lon": 0.7386911, "lat": 1.4137167 },
{ "lon": 0.8824051, "lat": -0.31415927 },
{ "lon": 0.8824051, "lat": -0.15707964 },
{ "lon": 0.8824051, "lat": 0.0 },
{ "lon": 0.8824051, "lat": 0.15707964 },
{ "lon": 0.8824051, "lat": 0.31415927 },
{ "lon": 0.8824051, "lat": 0.47123888 },
{ "lon": 0.8824051, "lat": 0.62831855 },
{ "lon": 0.8824051, "lat": 0.7853982 },
{ "lon": 0.8824051, "lat": 0.94247776 },
{ "lon": 0.8824051, "lat": 1.0995574 },
{ "lon": 0.8824051, "lat": 1.2566371 },
{ "lon": 1.0261195, "lat": 0.0 },
{ "lon": 1.0261195, "lat": 0.15707964 },
{ "lon": 1.0261195, "lat": 0.31415927 },
{ "lon": 1.0261195, "lat": 0.47123888 },
{ "lon": 1.0261195, "lat": 0.62831855 },
{ "lon": 1.0261195, "lat": 0.7853982 },
{ "lon": 1.0261195, "lat": 0.94247776 },
{ "lon": 1.0261195, "lat": 1.0995574 },
{ "lon": 1.0261195, "lat": 1.2566371 },
{ "lon": 1.1698337, "lat": -0.15707964 },
{ "lon": 1.1698337, "lat": 0.0 },
{ "lon": 1.1698337, "lat": 0.15707964 },
{ "lon": 1.1698337, "lat": 0.31415927 },
{ "lon": 1.1698337, "lat": 0.47123888 },
{ "lon": 1.1698337, "lat": 0.62831855 },
{ "lon": 1.1698337, "lat": 0.7853982 },
{ "lon": 1.1698337, "lat": 0.94247776 },
{ "lon": 1.1698337, "lat": 1.0995574 },
{ "lon": 1.1698337, "lat": 1.2566371 },
{ "lon": 1.1698337, "lat": 1.4137167 },
{ "lon": 1.313548, "lat": -0.15707964 },
{ "lon": 1.313548, "lat": 0.0 },
{ "lon": 1.313548, "lat": 0.15707964 },
{ "lon": 1.313548, "lat": 0.31415927 },
{ "lon": 1.313548, "lat": 0.47123888 },
{ "lon": 1.313548, "lat": 0.62831855 },
{ "lon": 1.313548, "lat": 0.7853982 },
{ "lon": 1.313548, "lat": 0.94247776 },
{ "lon": 1.313548, "lat": 1.0995574 },
{ "lon": 1.313548, "lat": 1.2566371 },
{ "lon": 1.313548, "lat": 1.4137167 },
{ "lon": 1.457262, "lat": -0.31415927 },
{ "lon": 1.457262, "lat": -0.15707964 },
{ "lon": 1.457262, "lat": 0.0 },
{ "lon": 1.457262, "lat": 0.15707964 },
{ "lon": 1.457262, "lat": 0.31415927 },
{ "lon": 1.457262, "lat": 0.47123888 },
{ "lon": 1.457262, "lat": 0.62831855 },
{ "lon": 1.457262, "lat": 0.7853982 },
{ "lon": 1.457262, "lat": 0.94247776 },
{ "lon": 1.457262, "lat": 1.0995574 },
{ "lon": 1.457262, "lat": 1.2566371 },
{ "lon": 1.457262, "lat": 1.4137167 },
{ "lon": 1.6009763, "lat": -0.31415927 },
{ "lon": 1.6009763, "lat": -0.15707964 },
{ "lon": 1.6009763, "lat": 0.0 },
{ "lon": 1.6009763, "lat": 0.15707964 },
{ "lon": 1.6009763, "lat": 0.31415927 },
{ "lon": 1.6009763, "lat": 0.47123888 },
{ "lon": 1.6009763, "lat": 0.62831855 },
{ "lon": 1.6009763, "lat": 0.7853982 },
{ "lon": 1.6009763, "lat": 0.94247776 },
{ "lon": 1.6009763, "lat": 1.0995574 },
{ "lon": 1.6009763, "lat": 1.2566371 },
{ "lon": 1.6009763, "lat": 1.4137167 },
{ "lon": 1.7446907, "lat": -0.47123888 },
{ "lon": 1.7446907, "lat": -0.31415927 },
{ "lon": 1.7446907, "lat": -0.15707964 },
{ "lon": 1.7446907, "lat": 0.0 },
{ "lon": 1.7446907, "lat": 0.15707964 },
{ "lon": 1.7446907, "lat": 0.31415927 },
{ "lon": 1.7446907, "lat": 0.47123888 },
{ "lon": 1.7446907, "lat": 0.62831855 },
{ "lon": 1.7446907, "lat": 0.7853982 },
{ "lon": 1.7446907, "lat": 0.94247776 },
{ "lon": 1.7446907, "lat": 1.0995574 },
{ "lon": 1.7446907, "lat": 1.2566371 },
{ "lon": 1.7446907, "lat": 1.4137167 },
{ "lon": 1.8884048, "lat": -0.31415927 },
{ "lon": 1.8884048, "lat": -0.15707964 },
{ "lon": 1.8884048, "lat": 0.0 },
{ "lon": 1.8884048, "lat": 0.15707964 },
{ "lon": 1.8884048, "lat": 0.31415927 },
{ "lon": 1.8884048, "lat": 0.47123888 },
{ "lon": 1.8884048, "lat": 0.62831855 },
{ "lon": 1.8884048, "lat": 0.7853982 },
{ "lon": 1.8884048, "lat": 0.94247776 },
{ "lon": 1.8884048, "lat": 1.0995574 },
{ "lon": 1.8884048, "lat": 1.2566371 },
{ "lon": 1.8884048, "lat": 1.4137167 },
{ "lon": 2.0321186, "lat": -0.15707964 },
{ "lon": 2.0321186, "lat": 0.0 },
{ "lon": 2.0321186, "lat": 0.15707964 },
{ "lon": 2.0321186, "lat": 0.31415927 },
{ "lon": 2.0321186, "lat": 0.47123888 },
{ "lon": 2.0321186, "lat": 0.62831855 },
{ "lon": 2.0321186, "lat": 0.7853982 },
{ "lon": 2.0321186, "lat": 0.94247776 },
{ "lon": 2.0321186, "lat": 1.0995574 },
{ "lon": 2.0321186, "lat": 1.2566371 },
{ "lon": 2.0321186, "lat": 1.4137167 },
{ "lon": 2.175833, "lat": -0.15707964 },
{ "lon": 2.175833, "lat": 0.0 },
{ "lon": 2.175833, "lat": 0.15707964 },
{ "lon": 2.175833, "lat": 0.31415927 },
{ "lon": 2.175833, "lat": 0.47123888 },
{ "lon": 2.175833, "lat": 0.62831855 },
{ "lon": 2.175833, "lat": 0.7853982 },
{ "lon": 2.175833, "lat": 0.94247776 },
{ "lon": 2.175833, "lat": 1.0995574 },
{ "lon": 2.175833, "lat": 1.2566371 },
{ "lon": 2.175833, "lat": 1.4137167 },
{ "lon": 2.3195472, "lat": -0.15707964 },
{ "lon": 2.3195472, "lat": 0.0 },
{ "lon": 2.3195472, "lat": 0.15707964 },
{ "lon": 2.3195472, "lat": 0.31415927 },
{ "lon": 2.3195472, "lat": 0.47123888 },
{ "lon": 2.3195472, "lat": 0.62831855 },
{ "lon": 2.3195472, "lat": 0.7853982 },
{ "lon": 2.3195472, "lat": 1.2566371 },
{ "lon": 2.4632616, "lat": -0.15707964 },
{ "lon": 2.4632616, "lat": 0.0 },
{ "lon": 2.4632616, "lat": 0.15707964 },
{ "lon": 2.4632616, "lat": 0.31415927 },
{ "lon": 2.4632616, "lat": 0.47123888 },
{ "lon": 2.4632616, "lat": 0.7853982 },
{ "lon": 2.4632616, "lat": 1.2566371 },
{ "lon": 2.6069758, "lat": 0.0 }
]};

var latitude = 13.771375;
var longitude = -88.98653;

var saludemoslapatria;

function init(){
    $.ajax({
        url: "/gracias",
        type: 'GET',
        cache: 'false',
        dataType: 'json',
        success: function(data) {
			saludemoslapatria = data.gracias;
			iniciar(mismarcas)
        },
        error: function(data) {
            fail();
        }
    });
}

function fail(){
    $("#map_canvas").goMap({
        latitude: 13.771399,
        longitude: -88.846436,
        zoom: 9,
        addMarker: false,
        disableDoubleClickZoom: false,
        scaleControl: false,
        
        navigationControl: false, 
        mapTypeControl: false, 
        scrollwheel: false,
        
        maptype: 'TERRAIN'
    });
}

function getIcon(i){
    //http://code.google.com/apis/maps/documentation/javascript/reference.html#MarkerImage
    var iconRef = saludemoslapatria[i].image;
    var themark = new google.maps.MarkerImage (
        iconRef,
        new google.maps.Size(26, 26),
        new google.maps.Point(0,0),
        new google.maps.Point(0, 26)
        //,new google.maps.Size(p,p)
    );
    return { image: themark };
}

function getMensaje(i){
    var mensaje = saludemoslapatria[i].title;
	return mensaje;
}

function iniciar(arr) {
    var marcas = [];
    for (var i = 0; i < saludemoslapatria.length; i++) {
        var marcaDatos = arr.marcas[i];
        marcas[i] = {
            id: "marcas"+i,
            latitude: latitude - (marcaDatos.lat - (marcaDatos.lat * 0.56)),
            longitude: longitude + (marcaDatos.lon - (marcaDatos.lon * 0.50)),
            title: "",
            html: {
                content: getMensaje(i)
                //popup: pop
            },
            icon: getIcon(i)
        }
    }

    $("#map_canvas").goMap({
        latitude: 13.795406,
        longitude: -88.895874,
        zoom: 9,
        markers: marcas,
        addMarker: false,
        disableDoubleClickZoom: false,
        scaleControl: false,
        navigationControl: false, 
        mapTypeControl: false, 
        scrollwheel: false, 
        maptype: 'TERRAIN'
    });
}
